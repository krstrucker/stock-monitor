# 텔레그램 알림 설정 가이드

## 📋 전체 과정 (5분이면 완료!)

### 1단계: 텔레그램 봇 생성 (2분)

1. **텔레그램 앱 열기**
2. 검색창에 **@BotFather** 입력
3. 봇과 대화 시작
4. `/newbot` 명령 전송
5. 봇 이름 입력 (예: "내 주식 신호 봇")
6. 봇 사용자명 입력 (예: "my_stock_signal_bot")
7. **봇 토큰 받기** (예: `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`)
8. **봇 토큰 복사해두기** ⚠️ 중요!

### 2단계: 채팅 ID 확인 (1분)

1. 텔레그램에서 **@userinfobot** 검색
2. 봇과 대화 시작
3. `/start` 명령 전송
4. **채팅 ID 확인** (예: `123456789`)
5. **채팅 ID 복사해두기** ⚠️ 중요!

### 3단계: 봇과 대화 시작 (30초)

1. 생성한 봇 검색 (예: @my_stock_signal_bot)
2. 봇과 대화 시작
3. `/start` 명령 전송
4. 이제 봇이 메시지를 받을 수 있습니다!

### 4단계: 환경 변수 설정 (1분)

**Windows PowerShell:**
```powershell
$env:TELEGRAM_BOT_TOKEN = "여기에_봇_토큰_붙여넣기"
$env:TELEGRAM_CHAT_ID = "여기에_채팅_ID_붙여넣기"
$env:MONITOR_INTERVAL = "60"
$env:MONITOR_SYMBOL_COUNT = "100"
```

**또는 배치 파일 사용:**
1. `start_server.bat` 파일 열기
2. 파일 안의 값들을 실제 값으로 수정
3. 파일 저장
4. 파일 더블클릭으로 실행

### 5단계: 서버 실행 (30초)

```bash
python server.py
```

## ✅ 완료 확인

서버가 정상적으로 실행되면:

1. 콘솔에 "✅ 텔레그램 알림 설정됨" 메시지 표시
2. 초기 스캔 자동 실행
3. 웹 인터페이스 접속 가능 (http://localhost:5000)

## 테스트

### 알림 테스트
```python
from kakao_notifier import TelegramNotifier

notifier = TelegramNotifier()
notifier.send_message("테스트 메시지입니다! 🎉")
```

이 메시지가 텔레그램으로 오면 설정 완료!

## 서버 실행 방법

### 방법 1: 배치 파일 (가장 간단)

1. `start_server.bat` 파일 열기
2. 파일 안의 값 수정:
   ```batch
   set TELEGRAM_BOT_TOKEN=실제_봇_토큰
   set TELEGRAM_CHAT_ID=실제_채팅_ID
   ```
3. 파일 저장
4. 파일 더블클릭으로 실행

### 방법 2: PowerShell에서 직접 실행

```powershell
# 환경 변수 설정
$env:TELEGRAM_BOT_TOKEN = "your_bot_token"
$env:TELEGRAM_CHAT_ID = "your_chat_id"
$env:MONITOR_INTERVAL = "60"
$env:MONITOR_SYMBOL_COUNT = "100"

# 서버 실행
python server.py
```

## 문제 해결

### 알림이 안 오는 경우
1. **봇 토큰 확인**: @BotFather에서 `/token` 명령으로 확인
2. **채팅 ID 확인**: @userinfobot에서 다시 확인
3. **봇과 대화 시작**: 봇에게 `/start` 명령 전송 필수!
4. **환경 변수 확인**: 
   ```powershell
   echo $env:TELEGRAM_BOT_TOKEN
   echo $env:TELEGRAM_CHAT_ID
   ```

### 서버가 실행되지 않는 경우
1. **포트 확인**: 5000번 포트가 사용 중인지 확인
2. **포트 변경**: `$env:PORT = "5001"`
3. **로그 확인**: 서버 실행 시 출력되는 오류 메시지 확인

## 완료! 🎉

이제 서버가 백그라운드에서:
- ✅ 자동으로 주기적 스캔
- ✅ 새로운 매수 신호 발견 시 텔레그램으로 알림
- ✅ 24시간 자동 실행

